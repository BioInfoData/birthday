<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>××©×—×§ ×‘×¨×™×—×” â€“ ×§×•×“×™×</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 640px; margin: 50px auto; padding: 0 16px; }
    .card { border: 1px solid #ddd; border-radius: 16px; padding: 18px; margin-bottom: 14px; }
    h2 { margin: 0 0 10px; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; }
    input, button { font-size: 18px; padding: 10px 12px; }
    button { cursor: pointer; }
    .locked { opacity: 0.55; }
    .msg-ok { margin-top: 10px; font-size: 20px; }
    .msg-err { margin-top: 10px; color: #b00020; }
    .big-win { font-size: 28px; margin: 0; text-align: center; }
    .sub { margin-top: 8px; text-align: center; font-size: 18px; opacity: 0.9; }
    .codebox { margin-top: 12px; padding: 12px; border: 1px dashed #888; border-radius: 12px; }
    .code { font-size: 22px; font-weight: bold; letter-spacing: 1px; }
  </style>
</head>
<body>

  <!-- ====== ×©× ×”/×™ ×›××Ÿ ××ª ×”×§×•×“×™× ×•×”×¨××–×™× ====== -->
  <script>
    const PUZZLE_1_CODE = "7429";
    const PUZZLE_2_CODE = "3150";
    const PUZZLE_3_CODE = "9012";

    // ××•×¤×¦×™×•× ×œ×™: ××” ×œ×”×¦×™×’ ××—×¨×™ ×¤×ª×¨×•×Ÿ ×›×œ ×—×™×“×” (×¨××–/×§×•×“/××©×™××” ×œ×©×œ×‘ ×”×‘×)
    const AFTER_1_TEXT = "××¢×•×œ×”! ×¢×›×©×™×• ×¢×‘×¨×• ×œ×—×™×“×” 2 ğŸ‘‡";
    const AFTER_2_TEXT = "××œ×•×¤×™×! ×××©×™×›×™× ×œ×—×™×“×” 3 ğŸ‘‡";
    const AFTER_3_TEXT = "×¡×™×™××ª× ××ª ×›×œ ×”×—×™×“×•×ª!";
  </script>
  <!-- ========================================= -->

  <div class="card" id="p1">
    <h2>×—×™×“×” 1</h2>
    <div class="row">
      <input id="in1" placeholder="×”×›× ×™×¡×™ ×§×•×“ ×œ×—×™×“×” 1" />
      <button onclick="check(1)">××™×©×•×¨</button>
    </div>
    <div id="m1"></div>
  </div>

  <div class="card locked" id="p2">
    <h2>×—×™×“×” 2</h2>
    <div class="row">
      <input id="in2" placeholder="×”×›× ×™×¡×™ ×§×•×“ ×œ×—×™×“×” 2" disabled />
      <button id="b2" onclick="check(2)" disabled>××™×©×•×¨</button>
    </div>
    <div id="m2"></div>
  </div>

  <div class="card locked" id="p3">
    <h2>×—×™×“×” 3</h2>
    <div class="row">
      <input id="in3" placeholder="×”×›× ×™×¡×™ ×§×•×“ ×œ×—×™×“×” 3" disabled />
      <button id="b3" onclick="check(3)" disabled>××™×©×•×¨</button>
    </div>
    <div id="m3"></div>
  </div>

  <div class="card" id="win" style="display:none;">
    <p class="big-win">ğŸ† × ×™×¦×—×ª×! ×¤×ª×¨×ª× ××ª ×›×œ ×”×—×™×“×•×ª! ğŸ†</p>
    <div class="sub">××¤×©×¨ ×œ×©×™× ×›××Ÿ ×”×•×“×¢×ª ×¡×™×•× / ×œ×™× ×§ ×œ×¤×¨×¡ / ×ª××•× ×”</div>
  </div>

  <script>
    const solved = {1:false, 2:false, 3:false};

    function unlock(step) {
      const card = document.getElementById("p" + step);
      card.classList.remove("locked");
      document.getElementById("in" + step).disabled = false;
      document.getElementById("b" + step).disabled = false;
    }

    function setMsg(step, html, ok=true) {
      const m = document.getElementById("m" + step);
      m.className = ok ? "msg-ok" : "msg-err";
      m.innerHTML = html;
    }

    function check(step) {
      const v = document.getElementById("in" + step).value.trim();

      const correct =
        (step === 1 && v === PUZZLE_1_CODE) ||
        (step === 2 && v === PUZZLE_2_CODE) ||
        (step === 3 && v === PUZZLE_3_CODE);

      if (!correct) {
        setMsg(step, "×§×•×“ ×©×’×•×™, × ×¡×• ×©×•×‘ ğŸ™ƒ", false);
        return;
      }

      solved[step] = true;

      // ×”×•×“×¢×ª ×”×¦×œ×—×” + ×˜×§×¡×˜ ×”××©×š
      const afterText =
        step === 1 ? AFTER_1_TEXT :
        step === 2 ? AFTER_2_TEXT :
        AFTER_3_TEXT;

      setMsg(step,
        `ğŸ‰ <b>×¤×ª×¨×ª× ××ª ×”×—×™×“×” ${step}!!</b> ğŸ‰
         <div class="codebox">${afterText}</div>`,
        true
      );

      // ×¤×•×ª×—×™× ××ª ×”×—×™×“×” ×”×‘××” ××• ××¡×™×™××™×
      if (step === 1) unlock(2);
      if (step === 2) unlock(3);
      if (step === 3) {
        document.getElementById("win").style.display = "block";
      }
    }
  </script>

</body>
</html>
